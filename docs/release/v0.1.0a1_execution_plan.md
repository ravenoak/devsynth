# DevSynth v0.1.0a1 Execution Plan (Updated 2025-10-05)

## Purpose
This document synthesizes the RFC proposal, current diagnostics, and dialectical + Socratic analysis to determine the highest-impact work required before tagging v0.1.0a1. It identifies which RFC initiatives are in-scope for the alpha tag, organizes them into actionable pull requests, and clarifies sequencing and parallelization constraints. The plan assumes no TestPyPI activity per maintainer directive.

## Evidence Baseline (2025-10-04 UTC)
- `task release:prep` now runs until `poetry build` hits the duplicate `overrides` keys in `pyproject.toml`, while `task mypy:strict` succeeds, publishes refreshed manifests, and records knowledge-graph identifiers (`QualityGate=c54c967d-6a97-4c68-a7df-237a609fd53e`, `TestRun=3ec7408d-1201-4456-8104-ee1b504342cc`, `ReleaseEvidence={9f4bf6fc-4826-4ff6-8aa2-24c5e6396b37,e3208765-a9f9-4293-9a1d-bbd3726552af}`); §23 literal blocks plus the `task lint:taskfile` dry-run (`task -n maintainer:must-run`) keep go-task parsing clean.【F:diagnostics/release_prep_20251005T035109Z.log†L1-L25】【F:diagnostics/mypy_strict_20251005T035128Z.log†L1-L20】【F:diagnostics/mypy_strict_src_devsynth_20251005T035143Z.txt†L1-L1】【F:diagnostics/mypy_strict_application_memory_20251005T035144Z.txt†L1-L1】【F:Taskfile.yml†L561-L668】【F:Taskfile.yml†L669-L681】
- Smoke-mode `poetry run devsynth run-tests --smoke --speed=fast --no-parallel --maxfail=1` times out during collection fallback and then fails on the `MemoryStore` Protocol generics error, preventing coverage artifacts from being generated and halting behavior verification.【F:logs/devsynth_run-tests_smoke_fast_20251004T183142Z.log†L1-L55】
- The latest fast+medium aggregate (2025-10-12) achieved 92.40 % coverage with artifacts, knowledge-graph IDs, and per-module deltas recorded in the manifest. EDRR reasoning loop coverage remains at 87.34 %, leaving a small uplift to reach parity with the ≥90 % objective.【F:test_reports/coverage_manifest_20251012T164512Z.json†L1-L51】
- A targeted fast-only rerun for `methodology/edrr/reasoning_loop.py` on 2025-10-05 captured 68.89 % coverage (`reasoning_loop_fast.json`) to guide remaining test additions ahead of the aggregate rerun.【F:artifacts/releases/0.1.0a1/fast-medium/20251015T000000Z-fast-medium/reasoning_loop_fast.json†L1-L25】
- Behavior and property suites previously passed with strict marker discipline, but the current smoke failure prevents us from rerunning the verification scripts until the memory Protocol regression is fixed.【F:logs/devsynth_run-tests_smoke_fast_20251004T183142Z.log†L7-L55】

## Dialectical Evaluation of RFC Scope
- **Thesis (Ambitious Adoption):** Implement the full RFC (knowledge graph expansion, multi-agent rotation, UI, compliance engine) now to align alpha with long-term vision.
- **Antithesis (Pragmatic Release):** Attempting the full RFC now would prolong the alpha indefinitely; strict typing and coverage already block the release.
- **Synthesis (Targeted Execution):** For v0.1.0a1 prioritize infrastructure that directly affects reliability metrics (typing, coverage, tests, traceability) and leave heavyweight platform upgrades for post-alpha follow-up. RFC elements that provide immediate validation, traceability, or gating remain in-scope; exploratory UX and large-scale backends are deferred.

## Socratic Cross-Examination
1. **What is the release-blocking problem?** Maintainer automation still cannot finish because `task release:prep` stops at the duplicate `overrides` error even though go-task now parses cleanly, and smoke mode continues to abort on the `MemoryStore` Protocol TypeError, so gating evidence remains stale.【F:diagnostics/release_prep_20251004T193235Z.log†L1-L20】【F:logs/devsynth_run-tests_smoke_fast_20251004T183142Z.log†L7-L55】
2. **What proofs confirm remediation?** Passing Taskfile commands, a green smoke log, refreshed strict mypy manifests, and a ≥90 % fast+medium manifest that lifts the EDRR coverage delta.【F:test_reports/coverage_manifest_20251012T164512Z.json†L1-L51】
3. **What resources do we control?** Existing diagnostics, the knowledge-graph linked coverage bundle, prior strict typing artifacts, and the in-repo task/issue tracker.
4. **Which initiatives deliver immediate value?** Taskfile repair, memory Protocol fixes, optional backend guardrails, and documentation/UAT updates directly unblock gating; large RFC expansions remain out-of-scope for the alpha window.【F:docs/tasks.md†L334-L347】
5. **What stops execution today?** Pending ownership of the automation + smoke fixes and outdated issues that still imply readiness; the refreshed PR breakdown assigns responsibilities and sequencing to close this gap.【F:docs/release/v0.1.0a1_execution_plan.md†L31-L62】【F:issues/release-readiness-assessment-v0-1-0a1.md†L52-L82】

## High-Impact Objectives (Pre-Tag)
1. **Repair maintainer automation** so `task release:prep` and `task mypy:strict` execute without go-task syntax errors, restoring strict typing and release-prep evidence capture.
2. **Eliminate the smoke regression** by correcting the `MemoryStore` Protocol generics and revalidating collection, behavior markers, and optional backend guards.
3. **Refresh quality-gate artifacts** by rerunning strict mypy and the fast+medium aggregate once smoke is green, capturing new manifests and reconciling the EDRR coverage gap.
4. **Assemble the UAT bundle** (smoke log, doctor output, manual QA notes) and update release documentation, readiness issues, and traceability matrices with the new evidence.
5. **Stage the post-tag workflow plan** so CI triggers, follow-up PRs, and human hand-off steps are queued once maintainers cut the tag.

## Pull Request Work Breakdown
| PR | Goal | Key Tasks | Dependencies | Parallelizable? |
|----|------|-----------|--------------|-----------------|
| **PR-A: Taskfile & Automation Repair** | Unblock `task release:prep`/`task mypy:strict` so strict typing and maintainer sequences execute end-to-end. | - Refactor Taskfile §23 to eliminate the invalid YAML keys.<br>- Add regression coverage (e.g., `task lint:taskfile`) or reviewer checklist items to guard future syntax errors.<br>- Document the fix in docs/tasks.md and release notes. | None | Must land first; restores automation for later PRs. |
| **PR-B: Memory Protocol & Smoke Stability** | Resolve the `MemoryStore` generics error and revalidate smoke/collection flows. | - Replace the invalid `Protocol[...]` declaration with `TypeVar`-driven definitions and ensure mypy strict compliance.<br>- Add targeted unit tests covering SyncManager initialization and behavior fixtures.<br>- Rerun smoke mode and marker verification, capturing fresh logs. | PR-A (automation fix ensures typing gate can run). | Can execute immediately after PR-A; core runtime focus. |
| **PR-C: Optional Backends & Behavior Hygiene** | Ensure optional integrations skip cleanly and behavior assets stay traceable once smoke is green. | - Audit backend fixtures for `pytest.importorskip`/resource markers.<br>- Reconfirm `.feature` files align with behavior steps and regenerate traceability reports.<br>- Update documentation for resource toggles. | PR-B (needs working smoke/collection). | Parallelizable with PR-D after PR-B. |
| **PR-D: Quality Gate Refresh & Coverage Top-up** | Regenerate strict mypy + coverage manifests and close the EDRR coverage gap. | - Rerun `task mypy:strict` and archive refreshed manifests.<br>- Execute the fast+medium aggregate, ensuring ≥90 % coverage and lifting `methodology/edrr/reasoning_loop.py` to ≥90 %.<br>- Update docs/issues with new artifact timestamps. | PR-B (smoke), partially PR-C if behavior changes affect coverage. | Parallel with PR-C once smoke is stable; coordinate artifact updates. |
| **PR-E: UAT Evidence & Post-Tag Sequencing** | Compile UAT bundle, update release docs, and queue post-tag automation. | - Capture passing UAT session table (smoke, release prep, typing) with artifacts.<br>- Update issues/release-finalization-uat.md and readiness checklist.<br>- Stage the PR to re-enable CI triggers post-tag and document maintainer steps. | PR-A–D completion (depends on green gates). | Sequential finalization step. |

## Parallelization Notes
- PR-A must merge first; without Taskfile fixes the automation harness cannot verify strict typing or release prep.
- PR-B depends on PR-A to regenerate strict typing manifests; once smoke is green it unblocks downstream validation.
- PR-C and PR-D can proceed in parallel after PR-B, coordinating on shared behavior fixtures and artifact timestamps.
- PR-E is the integration checkpoint that rolls up evidence after PR-A–D succeed.

## Task Board Snapshot
- `docs/typing/strict_typing_wave1.md` — enumerates targeted modules, owners, error counts, and follow-up experiments for the strict typing wave.【F:docs/typing/strict_typing_wave1.md†L1-L29】
- `docs/testing/coverage_wave1.md` — maps low-coverage modules to planned tests, responsible engineers, and knowledge-graph-linked evidence.【F:docs/testing/coverage_wave1.md†L1-L37】
- Update `docs/tasks.md` §21 with new subtasks referencing PR numbers and diagnostics.

## Acceptance Criteria
1. **Typing:** `poetry run mypy --strict src/devsynth` returns exit code 0 with updated suppressions documented.
2. **Testing:** Fast+medium aggregate via CLI meets ≥90 % coverage, leaving artifacts in `htmlcov/` and `test_reports/`.
3. **Behavior Specs:** All new/updated specs link to BDD features, each test includes one speed marker, and property tests run under `DEVSYNTH_PROPERTY_TESTING=true`.
4. **Documentation:** Issues, release docs, and traceability matrices accurately reflect remaining work and completed items.
5. **Dialectical Audit:** `dialectical_audit.log` receives an entry summarizing the synthesis reached in this plan.

## Immediate Next Steps (Action Items)
1. Execute PR-A by refactoring Taskfile §23, adding a Taskfile lint guard, and resolving the `poetry build` failure from duplicate `overrides` so `task release:prep` can finish after the parser fix evidenced by the latest logs.【F:Taskfile.yml†L554-L653】【F:diagnostics/release_prep_20251005T035109Z.log†L1-L25】【F:diagnostics/mypy_strict_20251005T035128Z.log†L1-L20】
2. In PR-B, patch the `MemoryStore` Protocol generics and capture a green smoke log plus refreshed marker report to prove the regression is resolved.【F:logs/devsynth_run-tests_smoke_fast_20251004T183142Z.log†L7-L55】
3. Coordinate PR-C and PR-D to revalidate optional integrations, regenerate strict typing/coverage manifests, and close the remaining EDRR coverage delta using targeted tests referencing the 92.40 % baseline.【F:test_reports/coverage_manifest_20251012T164512Z.json†L1-L51】
4. Finalize PR-E by compiling the UAT evidence bundle, updating readiness issues, and queuing the CI re-enable plan so maintainers can tag immediately after acceptance and stage the post-tag workflow PR without delay.【F:issues/release-finalization-uat.md†L49-L60】【F:issues/re-enable-github-actions-triggers-post-v0-1-0a1.md†L1-L18】

